{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DhaneshKJ\\\\Desktop\\\\My files\\\\tablebite front end\\\\menucard\\\\src\\\\Home\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useCallback, useMemo } from 'react';\nimport { getMenuListByRestaurantIdAndRestaurantName, getRestaurantColorTheme } from '../Services/allApi';\nimport { useSearchParams } from 'react-router';\nimport AddCart from './AddCart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('Starters');\n  const [selectedType, setSelectedType] = useState('Veg');\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [themeColor, setThemeColor] = useState(localStorage.getItem('themeColor') || '#2ebf6c');\n  const [searchParams] = useSearchParams();\n  const restaurantId = searchParams.get('restaurantId');\n  const restaurantName = searchParams.get('restaurantName') || 'Italian Dorado';\n  const searchInputRef = useRef(null);\n  const getHeaders = useCallback(() => {\n    const username = \"admin\";\n    const password = \"admin123\";\n    return {\n      'Authorization': 'Basic ' + btoa(`${username}:${password}`)\n    };\n  }, []);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      const headers = getHeaders();\n      try {\n        var _themeRes$data, _themeRes$data2;\n        const themeRes = await getRestaurantColorTheme(restaurantId, headers);\n        setThemeColor((themeRes === null || themeRes === void 0 ? void 0 : (_themeRes$data = themeRes.data) === null || _themeRes$data === void 0 ? void 0 : _themeRes$data.backgroundColor) || '#2ebf6c');\n        localStorage.setItem('themeColor', (themeRes === null || themeRes === void 0 ? void 0 : (_themeRes$data2 = themeRes.data) === null || _themeRes$data2 === void 0 ? void 0 : _themeRes$data2.backgroundColor) || '#2ebf6c');\n        const menuRes = await getMenuListByRestaurantIdAndRestaurantName(restaurantId, restaurantName, headers);\n        setItems(menuRes === null || menuRes === void 0 ? void 0 : menuRes.data.map(item => ({\n          ...item,\n          cartCount: 0\n        })));\n      } catch (error) {\n        console.error(\"Error fetching data\", error);\n      }\n      setLoading(false);\n    };\n    fetchData();\n  }, [getHeaders, restaurantId, restaurantName]);\n  const filteredItems = useMemo(() => {\n    return items.filter(item => (selectedCategory === '' || item.category === selectedCategory) && (selectedType === 'All' || item.type === selectedType) && item.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }, [items, selectedCategory, selectedType, searchTerm]);\n  const cartItems = items.filter(item => item.cartCount > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(SkeletonLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this) : filteredItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(AddCart, {\n      themeColor: themeColor,\n      cartCount: cartItems.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"QH1Zkwqn6KCvcTDy6c9i2KF2E60=\", false, function () {\n  return [useSearchParams];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","useMemo","getMenuListByRestaurantIdAndRestaurantName","getRestaurantColorTheme","useSearchParams","AddCart","jsxDEV","_jsxDEV","Home","_s","items","setItems","selectedCategory","setSelectedCategory","selectedType","setSelectedType","loading","setLoading","searchTerm","setSearchTerm","themeColor","setThemeColor","localStorage","getItem","searchParams","restaurantId","get","restaurantName","searchInputRef","getHeaders","username","password","btoa","fetchData","headers","_themeRes$data","_themeRes$data2","themeRes","data","backgroundColor","setItem","menuRes","map","item","cartCount","error","console","filteredItems","filter","category","type","name","toLowerCase","includes","cartItems","children","SkeletonLoader","fileName","_jsxFileName","lineNumber","columnNumber","id","length","_c","$RefreshReg$"],"sources":["C:/Users/DhaneshKJ/Desktop/My files/tablebite front end/menucard/src/Home/Home.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback, useMemo } from 'react';\r\nimport { getMenuListByRestaurantIdAndRestaurantName, getRestaurantColorTheme } from '../Services/allApi';\r\nimport { useSearchParams } from 'react-router';\r\nimport AddCart from './AddCart';\r\n\r\nfunction Home() {\r\n  const [items, setItems] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('Starters');\r\n  const [selectedType, setSelectedType] = useState('Veg');\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [themeColor, setThemeColor] = useState(localStorage.getItem('themeColor') || '#2ebf6c');\r\n\r\n  const [searchParams] = useSearchParams();\r\n  const restaurantId = searchParams.get('restaurantId');\r\n  const restaurantName = searchParams.get('restaurantName') || 'Italian Dorado';\r\n\r\n  const searchInputRef = useRef(null);\r\n\r\n  const getHeaders = useCallback(() => {\r\n    const username = \"admin\";\r\n    const password = \"admin123\";\r\n    return { 'Authorization': 'Basic ' + btoa(`${username}:${password}`) };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      const headers = getHeaders();\r\n      try {\r\n        const themeRes = await getRestaurantColorTheme(restaurantId, headers);\r\n        setThemeColor(themeRes?.data?.backgroundColor || '#2ebf6c');\r\n        localStorage.setItem('themeColor', themeRes?.data?.backgroundColor || '#2ebf6c');\r\n\r\n        const menuRes = await getMenuListByRestaurantIdAndRestaurantName(restaurantId, restaurantName, headers);\r\n        setItems(menuRes?.data.map(item => ({\r\n          ...item,\r\n          cartCount: 0,\r\n        })));\r\n      } catch (error) {\r\n        console.error(\"Error fetching data\", error);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchData();\r\n  }, [getHeaders, restaurantId, restaurantName]);\r\n\r\n  const filteredItems = useMemo(() => {\r\n    return items.filter(item =>\r\n      (selectedCategory === '' || item.category === selectedCategory) &&\r\n      (selectedType === 'All' || item.type === selectedType) &&\r\n      (item.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n    );\r\n  }, [items, selectedCategory, selectedType, searchTerm]);\r\n\r\n  const cartItems = items.filter(item => item.cartCount > 0);\r\n\r\n  return (\r\n    <div>\r\n      {/* Header, Search, Filters */}\r\n      {loading\r\n        ? <SkeletonLoader />\r\n        : filteredItems.map(item => (\r\n            <div key={item.id}>\r\n              <h1>{item.name}</h1>\r\n            </div>\r\n        ))\r\n      }\r\n      <AddCart themeColor={themeColor} cartCount={cartItems.length} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}